# Larder

Простая встраиваемая в Golang-приложения база данных.
Помимо основной CRUD-функциональности поддерживает транзакции.
При этом фактически каждая операция является транзакцией (чтение тоже).

## Inmemory storage

Операция read на настоящий момент не самая важная (с точки зрения приоритетов),
поэтому она просто быстрая и не более того. У неё не может быть фантастических показателей,
т.к. всё в конечном итоге упирается в скорость портера и выставления-снятия локов в мютексах хранилища.

### Handler

Устанавливаем обработчик, вызываемый по указанному ключу.
Обработчик получает на вход помимо всего и репозиторий, позволяющий
- получать записи (поштучно и списками)
- сохранять (перезаписывать) записи
- удалять записи

### Transaction

Транзакция ищет по указанному ключу обработчик.
Если таковой найден, транзакция запускает его.

## ToDo

- [ ] Описание формата записей в логах и чекпойнтах
- [x] Механизм потоковой записи с батчингом
- [x] Механизм потокового выполнения транзакций с батчингом
- [ ] Чтение записи (записей)
- [ ] Загрузчик базы с учётом чекпойнтов
- [ ] Механизм "догоняния" по чекпойнтам

### Copyright © 2018-2019 Eduard Sesigin. All rights reserved. Contacts: <claygod@yandex.ru>
